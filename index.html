<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>One Quick Question</title>
  <style>
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg,#ff9a9e,#fad0c4);
      overflow:hidden;
    }
    .card{
      width:min(420px,92vw);
      background:#fff;
      border-radius:22px;
      padding:28px 22px;
      text-align:center;
      box-shadow:0 20px 60px rgba(0,0,0,.25);
      position:relative;
    }
    h1{ margin:0 0 10px; color:#ff4d6d; font-size:30px; }
    #msg{ margin:0 0 18px; font-size:18px; min-height:44px; }
    .row{
      display:flex;
      justify-content:center;
      gap:14px;
      position:relative;
      height:64px;
    }
    button{
      border:0;
      border-radius:10px;
      padding:12px 18px;
      font-size:16px;
      cursor:pointer;
      user-select:none;
    }
    #yes{ background:#ff4d6d; color:#fff; }
    #no{
      background:#ddd;
      position:absolute;
      left:230px;
      top:0;
    }

    /* Popup */
    .popup{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.65);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:999;
      padding:18px;
    }
    .popupBox{
      background:#fff;
      width:min(360px,92vw);
      border-radius:16px;
      padding:18px;
      text-align:center;
      box-shadow:0 25px 70px rgba(0,0,0,.35);
    }

    /* YES screen images */
    .img{
      width:min(260px,78vw);
      border-radius:16px;
      box-shadow:0 16px 35px rgba(0,0,0,.20);
      margin-top:10px;
      animation:bounce .9s ease-in-out infinite;
    }
    @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }

    /* tiny toast */
    .toast{
      position:fixed;
      left:50%;
      top:14px;
      transform:translateX(-50%);
      background:rgba(0,0,0,.85);
      color:#fff;
      padding:10px 14px;
      border-radius:12px;
      font-size:14px;
      z-index:1000;
    }

    /* screen shake */
    .shake{ animation:shake .35s linear; }
    @keyframes shake{
      0%,100%{transform:translate(0,0)}
      20%{transform:translate(-8px,3px)}
      40%{transform:translate(7px,-4px)}
      60%{transform:translate(-6px,-5px)}
      80%{transform:translate(6px,6px)}
    }
  </style>
</head>

<body>
  <!-- Popup -->
  <div class="popup" id="popup">
    <div class="popupBox">
      <h2 style="margin:0 0 8px;">ğŸ‘€ Hey Aysha</h2>
      <p style="margin:0 0 14px;"><strong>white boy wants to know something real quickâ€¦</strong></p>
      <button id="popupBtn">Okay ğŸ˜</button>
    </div>
  </div>

  <!-- Main -->
  <div class="card" id="card">
    <h1>Aysha ğŸ’–</h1>
    <p id="msg">Will you be my Valentine?</p>

    <div class="row" id="row">
      <button id="yes">Yes ğŸ’˜</button>
      <button id="no">No ğŸ™„</button>
    </div>

    <p style="margin:14px 0 0; font-size:12px; color:#666;">
      If you see only the pink background, your <b>index.html</b> isnâ€™t being served.
    </p>
  </div>

<script>
  const popup = document.getElementById("popup");
  const popupBtn = document.getElementById("popupBtn");
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  const msg = document.getElementById("msg");
  const row = document.getElementById("row");
  const card = document.getElementById("card");

  let tries = 0;
  let audioCtx = null;
  const lines = [
    "Are you sure? ğŸ˜³",
    "Ayshaâ€¦ donâ€™t do this ğŸ¥²",
    "Think again ğŸ‘€",
    "Thatâ€™s crazy ğŸ’€",
    "Youâ€™re testing me ğŸ˜¤",
    "No is not an option ğŸ˜ˆ"
  ];

  function ensureAudio(){
    if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    if(audioCtx.state === "suspended") audioCtx.resume();
    return audioCtx;
  }

  function toast(t){
    const d=document.createElement("div");
    d.className="toast";
    d.textContent=t;
    document.body.appendChild(d);
    setTimeout(()=>d.remove(),900);
  }

  function shake(){
    document.body.classList.remove("shake");
    void document.body.offsetWidth;
    document.body.classList.add("shake");
    setTimeout(()=>document.body.classList.remove("shake"),380);
  }

  // fart-ish sound
  function fart(){
    const ctx = ensureAudio();
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.type="triangle";
    o.frequency.setValueAtTime(140, ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(50, ctx.currentTime + 0.35);
    g.gain.setValueAtTime(0.0001, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.9, ctx.currentTime + 0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.35);
    o.connect(g); g.connect(ctx.destination);
    o.start(); o.stop(ctx.currentTime + 0.36);
  }

  function moveNo(btn){
    const rect = card.getBoundingClientRect();
    const x = 20 + Math.random() * Math.max(20, rect.width - 140);
    const y = 110 + Math.random() * Math.max(20, rect.height - 190);
    btn.style.left = x + "px";
    btn.style.top = y + "px";
  }

  popupBtn.addEventListener("click", () => {
    popup.style.display="none";
    toast("Answer wisely ğŸ˜ˆ");
  });

  function noRun(ev){
    tries++;
    fart();
    shake();
    toast("NOPE ğŸ’¨");
    msg.textContent = lines[Math.min(tries-1, lines.length-1)];
    moveNo(ev.currentTarget);

    // after 5 tries, spawn a 2nd NO button
    if(tries === 5){
      const clone = document.createElement("button");
      clone.textContent = "No ğŸ™„";
      clone.style.background="#ddd";
      clone.style.position="absolute";
      clone.style.left="40px";
      clone.style.top="10px";
      clone.style.borderRadius="10px";
      clone.style.padding="12px 18px";
      clone.style.fontSize="16px";
      row.appendChild(clone);

      clone.addEventListener("mouseover", noRun);
      clone.addEventListener("touchstart", (e)=>{ e.preventDefault(); noRun({currentTarget: clone}); }, {passive:false});
      toast("OH? A second NO? ğŸ’€");
    }
  }

  noBtn.addEventListener("mouseover", noRun);
  noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); noRun({currentTarget:noBtn}); }, {passive:false});

  yesBtn.addEventListener("click", () => {
    ensureAudio(); // iOS unlock
    toast("YAYYYYY ğŸ‰");

    card.innerHTML = `
      <h1>YAY!!! ğŸ‰ğŸ’–</h1>
      <p style="font-size:18px; margin:0;">
        See you on <strong>16th February</strong> ğŸ˜Œ<br>
        Get ready by <strong>12!</strong> â°
      </p>

      <img class="img" src="aysha-emoji.png" alt="Aysha emoji"
        onerror="this.replaceWith(Object.assign(document.createElement('div'),{style:'margin-top:12px;color:#444;font-size:14px',innerText:'(Could not load aysha-emoji.png â€” check filename!)'}))">

      <div style="margin-top:10px; font-size:14px; color:#444;">This is how I feel rn:</div>

      <img class="img" src="celebration.png" alt="celebration"
        onerror="this.replaceWith(Object.assign(document.createElement('div'),{style:'margin-top:12px;color:#444;font-size:14px',innerText:'(Could not load celebration.png â€” check filename!)'}))">
    `;
  });
</script>

</body>
</html>
